---
title: "Troubleshooting Application Deployment"
linkTitle: "Troubleshooting Application Deployment"
description: "Troubleshooting problems deploying applications on Verrazzano"
weight: 3
draft: true
---
## Troubleshooting Application Deployment
During application deployment the oam-kubernetes-runtime and verrazzano-application-operator cooperate through the generation and update of resources.
The oam-kubernetes-runtime processes the ApplicationConfiguration and Component resources provided by the user and generates workload and trait instance resources.
The verrazzano-application-operator processes Verrazzano specific workload and trait instance resources and generates lower level resources.

Troubleshooting application deployments should follow three general steps.
1. Review the status of the oam-kubernetes-runtime and verrazzano-application-operator operator pods.
2. Review the logs of the oam-kubernetes-runtime and verrazzano-application-operator operator pods.
3. Review the resources generated by the oam-kubernetes-runtime and the verrazzano-application-operator.

### Review oam-kubernetes-runtime operator status
The oam-kubernetes-runtime pod must have a status of `Running` in order for application deployment to succeed.
The command to get the pod status is below.
```shell
kubectl get pods -n verrazzano-system -l app.kubernetes.io/name=oam-kubernetes-runtime
```
If the pod status is not `Running`, see the instructions below for reviewing the oam-kubernetes-runtime pod logs.

### Review verrazzano-application-operator operator status
The verrazzano-application-operator pod must have a status of `Running` in order for application deployment to succeed.
The command to get the pod status is below.
```shell
kubectl get pods -n verrazzano-system -l app=verrazzano-application-operator
```
If the pod status is not `Running`, see the instructions below for reviewing the verrazzano-application-operator logs.

### Review oam-kubernetes-runtime operator logs
Review the oam-kubernetes-runtime pod logs for any indication that pod startup or the generation of workload or trait instances has failed.
The command to get the logs is below.
```shell
kubectl logs -n verrazzano-system -l app.kubernetes.io/name=oam-kubernetes-runtime
```

### Review verrazzano-application-operator logs
Review the verrazzano-application-operator logs for any indication that pod startup or the generation of resources has failed.
The command to get the logs is below.
```shell
kubectl logs -n verrazzano-system -l app=verrazzano-application-operator
```

### Review generated workload instance resources
```shell
kubectl get -n hello-helidon verrazzanohelidonworkload hello-helidon-workload
kubectl get -n hello-helidon deployment hello-helidon-deployment
kubectl get -n hello-helidon service hello-helidon-deployment
```

### Review generated trait instances resources
```shell
kubectl get -n hello-helidon ingresstrait hello-helidon-ingress
kubectl get -n istio-system Certificate hello-helidon-hello-helidon-appconf-cert
kubectl get -n hello-helidon gateway hello-helidon-hello-helidon-appconf-gw
kubectl get -n hello-helidon virtualservice hello-helidon-ingress-rule-0-vs
```

### Check for RBAC privilege issues
```shell
kubectl logs -n verrazzano-system -l app.kubernetes.io/name=oam-kubernetes-runtime | grep forbidden
```
