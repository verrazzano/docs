<div >
    {{ .Inner | markdownify }}
</div>

<head>
    <style type="text/css">
        code {
            margin: 0;
            padding: 0;
        }

        .copy-code-button {
            position: absolute;
            right: 0;
            top: -29px;
            font-size: 12px;
            line-height: 14px;
            width: 65px;
            color: white;
            background-color: #30638E;
            border: 1px solid #30638E;
            white-space: nowrap;
            padding: 6px 6px 7px 6px;
        }

        .copy-code-button:hover,
        .copy-code-button:focus{
            background-color: gray;
            opacity: 1;
        }

    </style>
</head>


<script>
    function createCopyButton(highlightDiv) {
        const button = document.createElement("button");
        button.innerText = "Copy";
        button.className = "copy-code-button";
        button.addEventListener("click", () =>
            copyCodeToClipboard(button, highlightDiv)
        );
        addCopyButton(button, highlightDiv);
    }

    function addCopyButton(button, highlightDiv) {
        highlightDiv.insertBefore(button, highlightDiv.firstChild);
        const wrapper = document.createElement("div");
        highlightDiv.parentNode.insertBefore(wrapper, highlightDiv);
        wrapper.appendChild(highlightDiv);
    }

    async function copyCodeToClipboard(button, highlightDiv) {
        const codeToCopy = highlightDiv.querySelector(":last-child > code").innerText;
        try {
            await navigator.clipboard.writeText(codeToCopy);
        } catch (err) {
            // fallback to document.execCommand('copy') for Safari instead of navigator.clipboard
            const textarea = document.createElement('textarea');
            textarea.value = codeToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            textarea.remove();
        }
        button.blur();
        button.innerText = "Copied";
        setTimeout(function () {
            button.innerText = "Copy";
        }, 2000);
    }


    document
        .querySelectorAll(".highlight")
        .forEach((highlightDiv) => createCopyButton(highlightDiv));
</script>